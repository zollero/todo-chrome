<!DOCTYPE html>
<html>
<head>
	<title>Todo List</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link rel="stylesheet" href="./css/animate.min.css" />
	<link rel="stylesheet" href="./css/iconfont.css" />
	<link rel="stylesheet" href="./css/popup.css" />
</head>
<body>
	<div class="container" id="todo-list-container">
		<div class="banner">
			<i class="iconfont icon-left" @click="turnPre"></i>
			<div class="center" v-html="selectedDate"></div>
			<i class="iconfont icon-right" @click="turnPost"></i>
		</div>
		<ul class="list-container" v-if="todos.length > 0">
			<li class="li" v-for="(todo, index) in todos" :key="index">
				<div class="list" v-bind:class="todo.status">
					<div class="status">
						<div class="icon-container">
							<i class="icon" @click="changeStatus(todo.status, todo)">
								{{ todo.status === 'done' ? '&#10003' : '' }}
							</i>
						</div>
					</div>
					<div class="content" :title="todo.message" @click="toggleAction(todo)">
						{{ todo.message }}
					</div>
					<div class="notice">
						<i class="iconfont icon-notice" :class="{ disabled: !todo.setNotice }"></i>
					</div>
				</div>
				<transition name="custom-classes-transition"
				    enter-active-class="animated swing"
				    leave-active-class="animated flipOutY" >
					<div class="actions" v-if="todo.showAction">
						<div class="action" v-if="!todo.setNotice">
							<i class="iconfont icon-notice"></i>
						</div>
						<div class="action" @click="deleteTodo(index)">
							<i class="iconfont icon-delete"></i>
						</div>
					</div>
				</transition>
			</li>
		</ul>
		<ul class="list-container" v-else>
			<li class="li">
				<div class="tip">There are no todos.</div>
			</li>
		</ul>
		<div class="input-container" v-if="today === currentDate">
			<div class="li">
				<div class="status">
					<div class="icon-container">
						<i class="icon"></i>
					</div>
				</div>
				<div class="content">
					<input type="text" placeholder="Type a new task, then Enter" @keyup="typeNewTask" v-model="inputVal">
				</div>
			</div>
			<transition name="custom-classes-transition"
				    enter-active-class="animated flipInX"
				    leave-active-class="animated flipOutX" >
				<div class="notice-select" v-if="showDateSelect">
					<div class="notice-icon">
						<i class="iconfont icon-notice" :class="{ disabled: setNotice }" @click="setNotice = !setNotice"></i>
					</div>
					<div class="date-select">
						<select v-model="noticeHour" :disabled="!setNotice">
							<option v-for="hour in 24" :value="hour - 1">{{ hour - 1 }}</option>
						</select>
						<span class="time-split">:</span>
						<select v-model="noticeMin" :disabled="!setNotice">
							<option v-for="min in 60" :value="min - 1">{{ min - 1 }}</option>
						</select>
					</div>
				</div>
			</transition>
		</div>
	</div>

	<script src='./lib/vue.js'></script>
	<script src='./js/popup.js'></script>
</body>
</html>